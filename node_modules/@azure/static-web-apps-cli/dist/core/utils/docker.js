"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.isRunningInDocker = void 0;
const fs_1 = __importDefault(require("fs"));
let inDocker;
function hasDockerEnv() {
    try {
        fs_1.default.accessSync("/.dockerenv");
        return true;
    }
    catch {
        return false;
    }
}
function hasDockerCGroup() {
    try {
        return fs_1.default.readFileSync("/proc/1/cgroup", "utf8").includes("docker");
    }
    catch {
        return false;
    }
}
// Based on https://stackoverflow.com/questions/23513045/how-to-check-if-a-process-is-running-inside-docker-container
const isRunningInDocker = () => inDocker !== null && inDocker !== void 0 ? inDocker : (inDocker = hasDockerEnv() || hasDockerCGroup());
exports.isRunningInDocker = isRunningInDocker;
//# sourceMappingURL=docker.js.map